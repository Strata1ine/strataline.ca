---
import { type PropsOf } from '@/components/registry';
const meta = Astro.props as PropsOf<'ImagePanel'>;

import { Image } from 'astro:assets';
import LayoutDivider from './layout/Divider.astro';
import LayoutTitle from './layout/Title.astro';
import { containerStyles, imageStyles } from './styles';
import { twMerge } from 'tailwind-merge';
---

<LayoutDivider>
	<LayoutTitle title={meta.title} pos={meta.pos} />

	<div
		class={twMerge(
			containerStyles({ width: 'outer' }),
			'gap-10 sm:gap-8 flex flex-wrap justify-center',
		)}
	>
		{
			meta.content.map((panel, _) => {
				return (
					<div class="flex flex-col items-center gap-4 sm:max-w-1/2 sm:flex-[40%] xl:max-w-1/3 xl:flex-[30%]">
						<div class="h-70 rounded-sm contain-paint md:h-95">
							<Image
								class={imageStyles({
									x: panel.image.x,
									y: panel.image.y,
								})}
								widths={[300, 462, 924]}
								src={panel.image.src}
								alt={panel.image.alt}
								format="webp"
								draggable="false"
							/>
						</div>

						<h3 class="heading-2xl font-semibold">{panel.title}</h3>
					</div>
				);
			})
		}
	</div>
</LayoutDivider>
