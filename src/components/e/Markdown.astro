---
import { parseHTML } from "linkedom";
import { appendAttrElements, setAttrElements } from "~/lib/processHTML";

const html = await Astro.slots.render("default");
const { document } = parseHTML(html);

setAttrElements(
  document.querySelectorAll("h1"),
  "class",
  "font-serif font-bold text-5xl mb-10",
);

setAttrElements(
  document.querySelectorAll("h2"),
  "class",
  "font-serif font-bold text-2xl mb-2 mt-8",
);

setAttrElements(
  document.querySelectorAll("h3"),
  "class",
  "font-serif font-bold text-xl mb-2 mt-8",
);

setAttrElements(
  document.querySelectorAll("p"),
  "class",
  "font-sans text-base my-2",
);

appendAttrElements(
  document.querySelectorAll("p:first-child"),
  "class",
  "mt-0",
);

appendAttrElements(
  document.querySelectorAll("p:last-child"),
  "class",
  "mb-0",
);

setAttrElements(
  document.querySelectorAll("ul"),
  "class",
  "list-disc pl-5 my-4",
);

setAttrElements(
  document.querySelectorAll("ol"),
  "class",
  "list-decimal marker:font-bold marker:font-serif pl-5 my-4",
);

setAttrElements(
  document.querySelectorAll("li"),
  "class",
  "font-sans text-base my-1",
);

appendAttrElements(
  document.querySelectorAll("li:first-child"),
  "class",
  "mt-0",
);

appendAttrElements(
  document.querySelectorAll("li:last-child"),
  "class",
  "mb-0",
);

setAttrElements(document.querySelectorAll("hr"), "class", "my-5 border-accent");

setAttrElements(document.querySelectorAll("strong"), "class", "font-medium");
---

<Fragment set:html={document} />
