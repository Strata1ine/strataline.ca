---
import type { SchemaOf } from 'astro-frontmatter-components';
import { type SchemaContext, z } from 'astro:content';
import { image } from '@/schemas/image';

export const schema = (c: SchemaContext) => ({
	id: z.string().optional(),
	title: z.string(),
	desc: z.string(),
	speed: z.number().default(5.0),
	content: z.array(z.object(image(c))),
});

export type Props = SchemaOf<typeof schema>;
const meta = Astro.props;

import Container from './layout/Container.astro';
import Island from './Hero';
import FluidTalk from '@/components/FluidTalk';
---

<section class="relative box-content py-10 xl:py-20" id={meta.id}>
	<span
		class="bg-accent absolute -top-25 right-0 -bottom-15 z-[-1] w-1/4 rounded-bl-lg sm:left-0 sm:block sm:rounded-br-lg xl:w-(--right-hero-offset)"
	>
	</span>

	<Container
		variant="outer"
		class="relative flex flex-col gap-4 sm:flex-row md:gap-x-8 xl:gap-x-11"
	>
		<div class="order-2 flex w-full sm:w-1/2 sm:flex-shrink-0 sm:flex-col 2xl:flex-row-reverse">
			<Island client:visible {...meta} />
		</div>
		<div class="contents flex-1 flex-col gap-3 sm:order-2 sm:flex sm:justify-center">
			<h1 class="heading-6xl font-bold">{meta.title}</h1>
			<div class="order-3">
				<p class="desc-base">{meta.desc}</p>
				<FluidTalk client:load />
			</div>
		</div>
	</Container>
</section>
